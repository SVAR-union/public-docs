
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://svar-union.github.io/public-docs/setting_up_a_local_cluster/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.5">
    
    
      
        <title>Setting Up a Local Cluster - SVAR Public Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setting-up-a-local-development-cluster" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SVAR Public Docs" class="md-header__button md-logo" aria-label="SVAR Public Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SVAR Public Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setting Up a Local Cluster
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Swtich to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SVAR Public Docs" class="md-nav__button md-logo" aria-label="SVAR Public Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SVAR Public Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setting Up a Local Cluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Setting Up a Local Cluster
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-prerequisites" class="md-nav__link">
    Installing prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Installing prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git" class="md-nav__link">
    Git
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-docker-itself" class="md-nav__link">
    Installing Docker itself
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-installation-steps" class="md-nav__link">
    Post-installation steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go" class="md-nav__link">
    Go
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kind" class="md-nav__link">
    Kind
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl" class="md-nav__link">
    Kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm" class="md-nav__link">
    Helm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skaffold" class="md-nav__link">
    Skaffold
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensuring-access-to-the-git-repos" class="md-nav__link">
    Ensuring access to the Git repos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-the-project" class="md-nav__link">
    Deploying the project
  </a>
  
    <nav class="md-nav" aria-label="Deploying the project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-the-environment" class="md-nav__link">
    Setting up the environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-services" class="md-nav__link">
    Running services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-prerequisites" class="md-nav__link">
    Installing prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Installing prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git" class="md-nav__link">
    Git
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-docker-itself" class="md-nav__link">
    Installing Docker itself
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-installation-steps" class="md-nav__link">
    Post-installation steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go" class="md-nav__link">
    Go
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kind" class="md-nav__link">
    Kind
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl" class="md-nav__link">
    Kubectl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm" class="md-nav__link">
    Helm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skaffold" class="md-nav__link">
    Skaffold
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensuring-access-to-the-git-repos" class="md-nav__link">
    Ensuring access to the Git repos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-the-project" class="md-nav__link">
    Deploying the project
  </a>
  
    <nav class="md-nav" aria-label="Deploying the project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-the-environment" class="md-nav__link">
    Setting up the environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-services" class="md-nav__link">
    Running services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="setting-up-a-local-development-cluster">Setting Up a Local Development Cluster</h1>
<p>This document describes how to set up a local Kubernetes cluster for
development.  </p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before following this tutorial, please make sure you have the necessary
prerequisites installed. It's also strongly recommended to follow the tutorial
using a clean installation of Ubuntu 20.04 LTS.</p>
<p>To set up a local cluster on a compatible platform your will need:</p>
<ul>
<li>A working installation of <a href="https://git-scm.org/">Git</a>.</li>
<li><a href="https://docs.docker.com/engine/install/ubuntu/">Docker Engine for Linux</a> or
  <a href="https://www.docker.com/get-started">Docker Desktop for other platforms</a>, a
  container runtime.</li>
<li><a href="https://kind.sigs.k8s.io/">Kind</a>, a local cluster provisioner.</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/installing-kubectl-linux">Kubectl</a>, a
  tool for controlling clusters.</li>
<li><a href="https://helm.sh/">Helm</a>, a package manager for Kubernetes.</li>
<li><a href="https://skaffold.dev">Skaffold</a>, a tool for local Kubernetes development.</li>
</ul>
<h2 id="installing-prerequisites">Installing prerequisites</h2>
<p>The following instructions were carried out on a fresh installation of Ubuntu
20.04 LTS under KVM and were able to reproduce the cluster as of 2020-07-03.</p>
<h3 id="git">Git</h3>
<p>To install Git, run:</p>
<pre><code>sudo apt install git
</code></pre>
<h3 id="docker">Docker</h3>
<p>To install Docker, follow the <a href="https://docs.docker.com/engine/install/ubuntu/">offical
guide</a>. We are going to copy
the guide as-is.</p>
<h4 id="installing-docker-itself">Installing Docker itself</h4>
<p>First, ensure that previous versions of Docker are removed. To do this, run:</p>
<pre><code>sudo apt-get remove docker docker-engine docker.io containerd runc
</code></pre>
<p>When any leftovers are removed, install the necessary packages via the package
manager:</p>
<pre><code>sudo apt-get update
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
</code></pre>
<p>When Docker prerequisites are satisfied, add the Docker repository key to your
keyring:</p>
<pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
</code></pre>
<p>After adding the keyring, add the reposiotry itself to the list of
repositories:</p>
<pre><code>echo \
  &quot;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</code></pre>
<p>When the repository has been added to the list of sources, install the Docker
packages:</p>
<pre><code>sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io
</code></pre>
<h4 id="post-installation-steps">Post-installation steps</h4>
<p>After Docker has been installed, it should be able to run without root. To do
that, we need to create a group for Docker:</p>
<pre><code>sudo groupadd docker
</code></pre>
<p>Once the group has been created, add the current user to it:</p>
<pre><code>sudo usermod -aG docker $USER
</code></pre>
<p>Now you should be a member of the <code>docker</code> group.</p>
<p>Next, to be able to run docker, you should apply the group changes. To do that,
run:</p>
<pre><code>newgrp docker
</code></pre>
<p>After the command finishes, group changes should be applied and the current
user should be able to run Docker.</p>
<p>To check if you're able to run Docker without sudo, run:</p>
<pre><code>docker run hello-world
</code></pre>
<p>The following steps assume that your user account is able to run Docker without
sudo, so it is imperative you ensure that the command above finished
successfully.</p>
<h3 id="go">Go</h3>
<p>Most of the infrastructure-related tools require Go binaries to run. To setup
Go, first download the binaries:</p>
<pre><code>curl -LO https://golang.org/dl/go1.16.5.linux-amd64.tar.gz
</code></pre>
<p>Then, clean up any previous installations of Go:</p>
<pre><code>sudo rm -rf /usr/local/go
</code></pre>
<p>Once any leftovers have been cleaned up, unpack the downloaded binaries. Since
the unpacking command writes to a path that required elevated privileges, make
sure to run it with <code>sudo</code>.</p>
<pre><code>sudo tar -C /usr/local -xzf go1.16.5.linux-amd64.tar.gz
</code></pre>
<p>Once you've unpacked the binaries, make sure to add them to <code>PATH</code>. On Linux,
the most widely supported option is to add the command to add Go binaries to
the <code>PATH</code> environment variable to your <code>.profile</code> file. Please be aware that
the changes will only be applied after you re-login into your account. So, to
add Go binaries to <code>PATH</code>, run:</p>
<pre><code>printf &quot;\n# Add GOROOT to PATH\n%s\n&quot; &quot;export PATH=\$PATH:/usr/local/go/bin&quot; &gt;&gt; ~/.profile
</code></pre>
<p>Then, log out of your user session by clicking the <em>Power Off → Log Out / Shut
Down → Log Out → Log Out</em> button. Or you could reboot.</p>
<p>Whatever path you choose, log into your session again. Once you've logged into
your session, ensure that Go binaries are in your <code>PATH</code>:</p>
<pre><code>go --version
</code></pre>
<p>The correct output should look like:</p>
<pre><code>go version go1.16.4 linux/amd64
</code></pre>
<p>Once you've added Go binaries to <code>PATH</code>, you need to add the path to Go modules
to your <code>PATH</code>:</p>
<pre><code>printf &quot;\n# Add GOPATH to PATH\n%s\n&quot; &quot;export PATH=\$PATH:`(go env GOPATH)`/bin&quot; &gt;&gt; ~/.profile
</code></pre>
<p>Again, either relogin or reboot to ensure that the OS applied all changes to
<code>PATH</code>. After that, your Go installation should be set up.</p>
<h3 id="kind">Kind</h3>
<p>To install kind, run the following command:</p>
<pre><code>GO111MODULE=&quot;on&quot; go get sigs.k8s.io/kind@v0.11.1
</code></pre>
<p>Then, check if it is accessible:</p>
<pre><code>kind --version
</code></pre>
<p>The correct output would look like:</p>
<pre><code>kind version 0.10.0
</code></pre>
<p>Now, kind is installed on your system.</p>
<h3 id="kubectl">Kubectl</h3>
<p>To install kubectl, first download the latest release:</p>
<pre><code>curl -LO &quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl&quot;
</code></pre>
<p>Once the release has been downloaded, install it:</p>
<pre><code>sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
</code></pre>
<p>Check if it's installed:</p>
<pre><code>kubectl version --client
</code></pre>
<p>The correct output should look like:</p>
<pre><code>Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;21&quot;, GitVersion:&quot;v1.21.2&quot;, GitCommit:&quot;092fbfbf53427de67cac1e9fa54aaa09a28371d7&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2021-06-16T12:59:11Z&quot;, GoVersion:&quot;go1.16.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
</code></pre>
<p>Kubectl should be installed now.</p>
<h3 id="helm">Helm</h3>
<p>To install Helm, the easiest way is to use Snap:</p>
<pre><code>sudo snap install helm --classic
</code></pre>
<p>Check if Helm is installed:</p>
<pre><code>helm --version
</code></pre>
<p>The correct output should look like:</p>
<pre><code>version.BuildInfo{Version:&quot;v3.5.4&quot;, GitCommit:&quot;1b5edb69df3d3a08df77c9902dc17af864ff05d1&quot;, GitTreeState:&quot;clean&quot;, GoVersion:&quot;go1.15.11&quot;}
</code></pre>
<p>Helm should be installed now.</p>
<h3 id="skaffold">Skaffold</h3>
<p>To install Skaffold, download its binaries and install them by running the
following commands:</p>
<pre><code>curl -Lo skaffold https://storage.googleapis.com/skaffold/releases/latest/skaffold-linux-amd64 &amp;&amp; \
sudo install skaffold /usr/local/bin/
</code></pre>
<p>Check if Skaffold has been installed:</p>
<pre><code>skaffold version
</code></pre>
<p>The output should look like:</p>
<pre><code>v1.24.1
</code></pre>
<p>Now, Skaffold should be ready, and so are your other prerequisites. You should
be able to provision a local cluster.</p>
<h2 id="ensuring-access-to-the-git-repos">Ensuring access to the Git repos</h2>
<p>Current Skaffold manifests use remote Git repos to resolve its dependencies.
Therefore, you need to have access to the repositories and to be able to access
the repos from your operating system. That means that you should have proper
SSH keys set up and integrated with Git.</p>
<p>To do that, first make sure that you have your SSH keys. If not, generate new
ones via:</p>
<pre><code>ssh-keygen -t ed25519
</code></pre>
<p>The command will ask you questions. You could either make your own decisions or
just press Enter until the command is done.</p>
<p>After the command is done, you should have your SSH keys ready. Next, you need to make sure that your SSH agent is running. To do this, run:</p>
<pre><code>eval &quot;$(ssh-agent -s)&quot;
</code></pre>
<p>The expected output is:</p>
<pre><code>Agent pid 23594
</code></pre>
<p>The pid will probably be different for you.</p>
<p>Next, when your agent is running, add your SSH keys to it:</p>
<pre><code>ssh-add ~/.ssh/id_ed25519
</code></pre>
<p>The command should notify you that a new identity has been added.</p>
<p>Now, when you've created the SSH keys, run the agent, added an identity, you
should add your keys to your Github account. For that, you'll need to log into
your account and go to <em>Settings → SSH and GPG keys → New SSH key</em>. Github will
ask you to enter your key.</p>
<p>Go back to your terminal session and copy your <em>public</em> key to clipboard:</p>
<pre><code>xclip -selection clipboard &lt; ~/.ssh/id_ed25519.pub
</code></pre>
<p>Once the command completes, your public key should be in your clipboard.</p>
<p>Go back to Github, the page that asks you to enter the key. Paste your key and
press <em>Add SSH key</em>. Now, your key should be added to Github, and you are ready
to deploy the project locally.</p>
<h2 id="deploying-the-project">Deploying the project</h2>
<h3 id="setting-up-the-environment">Setting up the environment</h3>
<p>Once the prerequisites are installed, to run a project you'll need a local
development cluster. To provision the cluster, run the following command:</p>
<pre><code>kind create cluster
</code></pre>
<p>Kind will set up the cluster for you and notify you when it's ready:</p>
<pre><code>Creating cluster &quot;kind&quot; ...
 ✓ Ensuring node image (kindest/node:v1.20.2) 🖼 
 ✓ Preparing nodes 📦  
 ✓ Writing configuration 📜 
 ✓ Starting control-plane 🕹️ 
 ✓ Installing CNI 🔌 
 ✓ Installing StorageClass 💾
Set kubectl context to &quot;kind-kind&quot;
You can now use your cluster with:

kubectl cluster-info --context kind-kind

Thanks for using kind! 😊
</code></pre>
<p>Once the cluster is set up, the environment is set up, and you are ready to
deploy services.</p>
<h3 id="running-services">Running services</h3>
<p>To run any service, you'll first have to clone it. You should clone to a convenient location, so it's best to create it first:</p>
<pre><code>mkdir ~/Documents/svar-achievements/
</code></pre>
<p>Navigate to the newly created directory:</p>
<pre><code>cd ~/Documents/svar-achievements
</code></pre>
<p>Then, clone the service you want to run. For example, the internationalization one:</p>
<pre><code>git clone git@github.com:SVAR-union/service_i18n
</code></pre>
<p>Once Git has finished cloning the service, go the the service's directory:</p>
<pre><code>cd service_i18n
</code></pre>
<p>When you're inside the directory, you can deploy the service by running:</p>
<pre><code>skaffold dev
</code></pre>
<p>Skaffold will pull, build, tag and stabilize your deployments. It will also
watch for any changes you make to the source code, so it can rebuild your
deployments and make it available for you to access and test.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
    
  </body>
</html>